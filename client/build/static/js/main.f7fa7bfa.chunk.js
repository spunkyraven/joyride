(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{221:function(e,t,a){},222:function(e,t,a){},227:function(e,t,a){},252:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(20),s=a.n(n),i=(a(221),a(222),a(223),a(42)),j=a(24),l=a(3),o=a(7),b=a(14),u=a(381),d=a(355),O=a(350),h=a(379),p=a(354),x=a(377),m=a(357),f=a(356),g=a(121),v=a.n(g),y=a(202),S=a(345),k=a(348),T=(a(227),a(370)),C=a(16),w=a.n(C),E=a(22),L="LOGIN_REQUEST",R="LOGIN_SUCCESS",_="LOGIN_FAILED",N="REGISTER_REQUEST",I="REGISTER_SUCCESS",P="REGISTER_FAILED",D="GET_PROFILE_REQUEST",A="GET_PROFILE_SUCCESS",G="GET_PROFILE_FAILED",M="PUT_PROFILE_REQUEST",U="PUT_PROFILE_SUCCESS",F="PUT_PROFILE_FAILED",B="PUT_ROLE_REQUEST",z="PUT_ROLE_SUCCESS",J="PUT_ROLE_FAILED",V="LOGOUT",W=a(30),Y=a.n(W),H=function(){var e=localStorage.getItem("token");e?Y.a.defaults.headers.common["auth-token"]=e:delete Y.a.defaults.headers.commoncommon["auth-token"]},Z=function(){return function(){var e=Object(E.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:D}),e.prev=1,H(),e.next=5,Y.a.get("/api/user/getProfile");case 5:a=e.sent,c=a.data,t({type:A,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:G,payload:e.t0.response.data.errors});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},Q=a(1),q=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",color:"black",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(4),backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(4,0,6)}}})),K=function(){var e=q(),t=Object(c.useState)({email:"",password:""}),a=Object(o.a)(t,2),r=a[0],n=a[1],s=Object(b.c)((function(e){return e.auth})),i=Object(b.c)((function(e){return e.auth.errors})),g=Object(b.b)(),S=Object(j.useHistory)();return Object(c.useEffect)((function(){s.isAuth&&S.push("/")}),[s.isAuth]),Object(Q.jsxs)(k.a,{className:"card",component:"main",maxWidth:"xs",children:[Object(Q.jsx)(O.a,{}),Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsx)(u.a,{className:e.avatar,children:Object(Q.jsx)(v.a,{})}),Object(Q.jsx)(y.a,{component:"h2",variant:"h6",children:"Sign in"}),i&&Object(Q.jsxs)(T.a,{variant:"danger",children:[i[0]?i[0].msg:null," ",Object(Q.jsx)("br",{}),i.email?i.email.msg:null," ",Object(Q.jsx)("br",{}),i.password?i.password.msg:null," ",Object(Q.jsx)("br",{})]}),Object(Q.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),g(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:L}),t.prev=1,t.next=4,Y.a.post("/api/user/login",e);case 4:c=t.sent,a({type:R,payload:c.data}),a(Z()),alert("Welcome to JoyRide!"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:_,payload:t.t0.response.data.errors});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(r))},children:[Object(Q.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return n(Object(l.a)(Object(l.a)({},r),{},{email:e.target.value}))},autoFocus:!0}),Object(Q.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return n(Object(l.a)(Object(l.a)({},r),{},{password:e.target.value}))}}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(Q.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(Q.jsx)(f.a,{container:!0,children:Object(Q.jsx)(f.a,{item:!0,children:Object(Q.jsx)(m.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},$=function(){return Object(Q.jsx)("div",{})},X=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ee=function(){var e=X(),t=Object(c.useState)(""),a=Object(o.a)(t,2),r=a[0],n=(a[1],Object(c.useState)({fisrtName:"",lastName:"",email:"",password:"",age:"",phone:"",ProfilePic:null,Attachment:null})),s=Object(o.a)(n,2),i=s[0],p=s[1],x=Object(b.c)((function(e){return e.auth})),g=Object(b.c)((function(e){return e.auth.errors})),S=Object(b.b)(),C=Object(j.useHistory)();return Object(c.useEffect)((function(){x.isRegistred&&C.push("/login")})),Object(Q.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(Q.jsx)(O.a,{}),Object(Q.jsxs)("div",{className:e.paper,children:[Object(Q.jsx)(u.a,{className:e.avatar,children:Object(Q.jsx)(v.a,{})}),Object(Q.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),g&&Object(Q.jsxs)(T.a,{variant:"danger",children:[g[0]?g[0].msg:null," ",Object(Q.jsx)("br",{}),g.firstName?g.firstName.msg:null," ",Object(Q.jsx)("br",{}),g.lastName?g.lastName.msg:null," ",Object(Q.jsx)("br",{}),g.email?g.email.msg:null," ",Object(Q.jsx)("br",{}),g.password?g.password.msg:null," ",Object(Q.jsx)("br",{}),g.age?g.age.msg:null," ",Object(Q.jsx)("br",{}),g.phone?g.phone.msg:null," ",Object(Q.jsx)("br",{}),g.profilePic?g.profilePic.msg:null]}),Object(Q.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),S(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,Y.a.post("/api/user/register",e);case 4:c=t.sent,a({type:I,payload:c.data}),alert("Register successfully done!"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:P,payload:t.t0.response.data.errors});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(i))},children:[Object(Q.jsxs)(f.a,{container:!0,spacing:2,children:[Object(Q.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(Q.jsx)(h.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{firstName:e.target.value}))},autoFocus:!0})}),Object(Q.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(Q.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{lastName:e.target.value}))}})}),Object(Q.jsx)(f.a,{item:!0,xs:12,children:Object(Q.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{email:e.target.value}))}})}),Object(Q.jsx)(f.a,{item:!0,xs:12,children:Object(Q.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{password:e.target.value}))}})}),Object(Q.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(Q.jsx)(h.a,{autoComplete:"age",name:"age",variant:"outlined",required:!0,fullWidth:!0,id:"age",label:"Age",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{age:e.target.value}))}})}),Object(Q.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(Q.jsx)(h.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phone",label:"Phone",name:"phone",autoComplete:"phone",onChange:function(e){return p(Object(l.a)(Object(l.a)({},i),{},{phone:e.target.value}))}})}),Object(Q.jsxs)(f.a,{item:!0,xs:12,children:[Object(Q.jsx)("img",{name:"image",alt:"profile pic",width:"150",height:"150",src:r||"/images/avatar.jpg"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("input",{type:"file",name:"profilePic",accept:"images/*"})]})]}),Object(Q.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(Q.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(Q.jsx)(f.a,{item:!0,children:Object(Q.jsx)(m.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},te=a(368),ae=a(362),ce=a(360),re=a(361),ne=a(193),se=a(372),ie=Object(se.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1}}})),je=function(e){var t=e.trip,a=ie();return Object(Q.jsxs)(te.a,{style:{background:"#ffaa00",marginBottom:"10px"},className:a.card,children:[Object(Q.jsx)(ce.a,{className:a.cardContent,children:Object(Q.jsx)(k.a,{children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(y.a,{gutterBottom:!0,variant:"h6",component:"h6",children:Object(Q.jsx)("i",{className:"bi bi-geo-alt",children:t.from})}),Object(Q.jsx)(y.a,{gutterBottom:!0,variant:"h6",component:"h6",children:Object(Q.jsx)("i",{className:"bi bi-cursor",children:t.to})})]}),Object(Q.jsx)(ne.a,{children:Object(Q.jsxs)("span",{children:[t.price.$numberDecimal," DT"]})}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)("i",{className:"bi bi-truck"}),Object(Q.jsx)("i",{className:"fa fa-car","aria-hidden":"true"}),Object(Q.jsxs)("span",{children:[" ",t.carModel]})]})]})})}),Object(Q.jsx)(ae.a,{children:Object(Q.jsx)(d.a,{href:"/searchRide",size:"xs",color:"primary",children:"RESERVE NOW!"})})]})},le=a(148),oe=(a(252),"ADD_TRIP_REQUEST"),be="ADD_TRIP_SUCCESS ",ue="ADD_TRIP_FAILED",de="GET_TRIP_REQUEST",Oe="GET_TRIP_SUCCESS",he="GET_TRIP_FAILED",pe="GET_TRIP_COUNT_SUCCESS",xe="GET_ALL_TRIP_REQUEST",me="GET_ALL_TRIP_SUCCESS",fe="GET_ALL_TRIP_FAILED",ge="FIND_TRIPS_REQUEST",ve="FIND_TRIPS_SUCCESS",ye="FIND_TRIPS_FAILED",Se="GET_SELECTED_TRIP_REQUEST",ke="GET_SELECTED_TRIP_SUCCESS",Te="GET_SELECTED_TRIP_FAILED",Ce="GET_RESERVED_TRIP_REQUEST",we="GET_RESERVED_TRIP_SUCCESS",Ee="GET_RESERVED_TRIP_FAILED",Le="PUT_SEATING_CAPACITY_REQUEST",Re="PUT_SEATING_CAPACITY_SUCCESS",_e="PUT_SEATING_CAPACITY_FAILED",Ne="PUT_TRIP_REQUEST",Ie="PUT_TRIP_SUCCESS",Pe="PUT_TRIP_FAILED",De="DELETE_TRIP_REQUEST",Ae="DELETE_TRIP_SUCCESS",Ge="DELETE_TRIP_FAILED",Me=function(e,t){return function(){var a=Object(E.a)(w.a.mark((function a(c){var r,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:de}),a.prev=1,H(),a.next=5,Y.a.get("/api/trip/mytrips?page=".concat(e,"&limit=").concat(t));case 5:r=a.sent,n=r.data,c({type:Oe,payload:n}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),c({type:he,payload:a.t0.response.data.errors});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},Ue=function(e,t){return function(){var a=Object(E.a)(w.a.mark((function a(c){var r,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:xe}),a.prev=1,a.next=4,Y.a.get("/api/trip/alltrips?page=".concat(e,"&limit=").concat(t));case 4:r=a.sent,n=r.data,c({type:me,payload:n}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),c({type:fe,payload:a.t0.response.data.errors});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},Fe=function(){return function(){var e=Object(E.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_TRIP_COUNT_REQUEST"}),e.prev=1,e.next=4,Y.a.get("/api/trip/tripCount");case 4:a=e.sent,c=a.data,t({type:pe,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_TRIP_COUNT_FAILED",payload:e.t0.response.data.errors});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Be=Object(S.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(7,0,5)},heroButtons:{marginTop:e.spacing(2)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(10)},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:4}}}));var ze=function(){var e=Be(),t=Object(b.b)(),a=Object(b.c)((function(e){return e.trips}));return Object(c.useEffect)((function(){t(Ue(1,6))}),[]),Object(Q.jsxs)("main",{children:[Object(Q.jsxs)("div",{className:e.heroContent,children:[Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(k.a,{children:[Object(Q.jsx)("div",{className:"homePic",children:Object(Q.jsx)(le.a,{src:"/images/BACK.PNG"})}),Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(y.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:["JoyRide ",Object(Q.jsx)("br",{}),"Your pick of rides at low prices"]}),Object(Q.jsxs)(y.a,{variant:"h8",align:"center",color:"textSecondary",paragraph:!0,children:["No matter where you\u2019re going find the perfect ride from our wide range of destinations and routes at low prices.",Object(Q.jsx)("br",{}),"We take the time to get to know each of our members",Object(Q.jsx)("br",{})," We check reviews, profiles and IDs, so you know who you\u2019re travelling with and can book your ride at ease on our secure platform."]})]})}),Object(Q.jsx)("div",{className:e.heroButtons,children:Object(Q.jsxs)(f.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(Q.jsx)(f.a,{item:!0,children:Object(Q.jsx)(d.a,{href:"/searchRide",variant:"contained",color:"primary",children:"Search a Ride"})}),Object(Q.jsx)(f.a,{item:!0,children:Object(Q.jsx)(d.a,{href:"/offerRide",variant:"outlined",color:"aquamarine",children:"Offer a Ride"})})]})}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(y.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Why we choose JoyRide"}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{className:"icons",children:[Object(Q.jsx)("i",{className:"bi bi-person-fill"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"ALWAYS IN CONTROL"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"Verified Members that means you know exactly who you travelling with ."})]}),Object(Q.jsxs)(ne.a,{className:"icons",children:[Object(Q.jsx)("i",{className:"bi bi-file-earmark-person-fill"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"RIDE WITH CONFIDENCE"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"ID verification so you know who you\u2019re travelling with and can book your ride at ease on our secure platform ."})]}),Object(Q.jsxs)(ne.a,{className:"icons",children:[Object(Q.jsx)("i",{className:"bi bi-hand-thumbs-up-fill"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"YOU RIDE IS FULLY INSURED"}),Object(Q.jsx)(y.a,{variant:"h7",align:"center",color:"textPrimary",paragraph:!0,children:"You can get comfort, spend less money and meet new people ."})]})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(y.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Thousands of departures every day"}),Object(Q.jsx)(y.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0,margin:"10px",children:"WHERE DO YOU WANT TO GO?"})]})]}),Object(Q.jsx)(k.a,{className:e.cardGrid,maxWidth:"md",children:a.tripList.length&&a.tripList.map((function(e,t){return Object(Q.jsx)(je,{trip:e},t)}))})]})},Je=a(364),Ve=a(378),We=a(375),Ye=a(194),He=a(365),Ze=a(363);var Qe=function(){return Object(Q.jsx)(Ze.a,{as:"span",animation:"border",variant:"danger",size:"sm",role:"status","aria-hidden":"true"})},qe=a(126),Ke=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(b.c)((function(e){return e.trips})),a=Object(b.c)((function(e){return e.reservations})),r=(Object(b.c)((function(e){return e.trips.count})),Object(b.c)((function(e){return e.trips.isLoading}))),n=Object(qe.useParams)().id,s=Object(c.useState)(1),i=Object(o.a)(s,2),j=i[0],l=(i[1],Object(c.useState)(3)),u=Object(o.a)(l,2),d=u[0],O=(u[1],Object(b.b)());Object(c.useEffect)((function(){O(Z()),O(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Ce}),t.prev=1,H(),t.next=5,Y.a.get("/api/trip/getreservedTrip/".concat(e));case 5:c=t.sent,r=c.data,a({type:we,payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:Ee,payload:t.t0.response.data.errors});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),console.log(n),O(Me(j,d))}),[O,j,d,n]);var h=function(e){O(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:De}),t.prev=1,H(),t.next=5,Y.a.delete("/api/trip/deletetrip/".concat(e));case 5:c=t.sent,r=c.data,a({type:Ae,payload:r}),alert("Trip deleted successfully!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:Ge,payload:t.t0.response.data.errors});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(e)),O(Me(1,3))};return Object(Q.jsx)("div",{style:{},children:Object(Q.jsx)(Je.a,{children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{sm:2,children:[Object(Q.jsx)("br",{}),Object(Q.jsxs)(Ve.a,{style:{width:"18rem"},children:[e.user?Object(Q.jsx)(le.a,{src:"/images/avatar.jpg",alt:"profile picture",width:"100%",height:"280"}):Object(Q.jsx)(le.a,{src:"/public/images/avatar.jpg",alt:"profile picture",width:"100%",height:"280"}),Object(Q.jsxs)(Ve.a.Body,{children:[Object(Q.jsxs)(Ve.a.Title,{children:[e.user.firstName," ",e.user.lastName]}),Object(Q.jsxs)(Ve.a.Text,{children:["\ud83d\udd17 ",e.user.role]})]}),Object(Q.jsxs)(We.a,{className:"list-group-flush",children:[Object(Q.jsxs)(Ye.a,{children:[" ",Object(Q.jsxs)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[Object(Q.jsx)("path",{d:"M477.5 536.3L135.9 270.7l-27.5-21.4 27.6 21.5V792h752V270.8L546.2 536.3a55.99 55.99 0 0 1-68.7 0z"}),Object(Q.jsx)("path",{d:"M876.3 198.8l39.3 50.5-27.6 21.5 27.7-21.5-39.3-50.5z"}),Object(Q.jsx)("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-94.5 72.1L512 482 190.5 232.1h643zm54.5 38.7V792H136V270.8l-27.6-21.5 27.5 21.4 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5h.1l39.3 50.5-27.7 21.5z"})]}),e.user.email]}),Object(Q.jsxs)(Ye.a,{children:[" ",e.user.age," years old"]}),Object(Q.jsxs)(Ye.a,{children:[Object(Q.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(Q.jsx)("path",{d:"M885.6 230.2L779.1 123.8a80.83 80.83 0 0 0-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L549.8 238.4a80.83 80.83 0 0 0-23.8 57.3c0 21.7 8.5 42.1 23.8 57.4l83.8 83.8A393.82 393.82 0 0 1 553.1 553 395.34 395.34 0 0 1 437 633.8L353.2 550a80.83 80.83 0 0 0-57.3-23.8c-21.7 0-42.1 8.5-57.4 23.8L123.8 664.5a80.89 80.89 0 0 0-23.8 57.4c0 21.7 8.5 42.1 23.8 57.4l106.3 106.3c24.4 24.5 58.1 38.4 92.7 38.4 7.3 0 14.3-.6 21.2-1.8 134.8-22.2 268.5-93.9 376.4-201.7C828.2 612.8 899.8 479.2 922.3 344c6.8-41.3-6.9-83.8-36.7-113.8z"})})," ",e.user.phone]})]}),Object(Q.jsxs)(Ve.a.Body,{children:[Object(Q.jsx)(Ve.a.Link,{href:"/editProfile",children:"Edit"}),e.isAuth&&e.user&&"driver"!==e.user.role&&Object(Q.jsx)(Ve.a.Link,{href:"/searchRide"})]})]}),Object(Q.jsx)("br",{})]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(ne.a,{sm:10,children:[Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(y.a,{children:["Your Rides Reservation List"," ",Object(Q.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(Q.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM288 421a48.01 48.01 0 0 1 96 0 48.01 48.01 0 0 1-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 0 1 8-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 0 1 8 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 0 1 0-96 48.01 48.01 0 0 1 0 96z"})})]})," ",r&&Object(Q.jsx)(Qe,{})," ",Object(Q.jsx)(Je.a,{style:{display:"flex",justifyContent:"right",flexWrap:"wrap"},children:a&&a.reservationList&&a.reservationList.map((function(e,t){return Object(Q.jsxs)(Ve.a,{style:{marginLeft:"10px",flex:"0 0 215px",margin:"1em 10px",border:"2px solid"},border:"danger",children:[Object(Q.jsxs)(Ve.a.Header,{children:["Ride at ",Object(Q.jsx)("b",{children:e.dateTime})]}),Object(Q.jsxs)(Ve.a.Body,{children:[Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{children:[Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle"})," ",e.from]}),Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle-fill"})," ",e.to]}),Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-truck"})," ",e.carModel]}),Object(Q.jsxs)(Ve.a.Title,{children:[e.price.$numberDecimal," DT"]})]})}),Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{children:["male"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-male",children:[" ","Male",Object(Q.jsx)("br",{})]})," ","female"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-female",children:[" ","Female",Object(Q.jsx)("br",{})]})," ","mixed"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-ambiguous",children:[" ","Mixed",Object(Q.jsx)("br",{})]})," ",e.luggage&&Object(Q.jsxs)("i",{class:"bi bi-bag-plus",children:[" ","Luggage",Object(Q.jsx)("br",{})]}),e.music&&Object(Q.jsxs)("i",{class:"bi bi-music-note-beamed",children:[" ","Music",Object(Q.jsx)("br",{})]})," ",e.airConditioned&&Object(Q.jsxs)("i",{class:"bi bi-snow2",children:[" ","AirC",Object(Q.jsx)("br",{})]})," ",e.smoking&&Object(Q.jsxs)("i",{class:"bi bi-wind",children:[" ","Smoking",Object(Q.jsx)("br",{})]})]})})]}),Object(Q.jsx)(Ve.a.Footer,{children:Object(Q.jsx)(re.a,{children:Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(He.a,{variant:"danger",onClick:function(){return h(e._id)},children:"Delete"})})})}),Object(Q.jsx)(Ve.a.Footer,{children:Object(Q.jsxs)("small",{className:"text-muted",children:["Seating Available ",Object(Q.jsx)("b",{children:e.seatingCapacity})]})})]},t)}))}),Object(Q.jsx)(Je.a,{children:Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{sm:10,children:[Object(Q.jsx)(y.a,{children:"Your Rides Suggestions List ..."})," ",r&&Object(Q.jsx)(Qe,{})," ",Object(Q.jsx)(Je.a,{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:t.tripList.length&&t.tripList.map((function(e,t){return Object(Q.jsxs)(Ve.a,{style:{marginLeft:"10px",flex:"0 0 215px",margin:"1em 10px",border:"2px solid"},border:"danger",children:[Object(Q.jsxs)(Ve.a.Header,{children:["Ride at ",Object(Q.jsx)("b",{children:e.dateTime})]}),Object(Q.jsxs)(Ve.a.Body,{children:[Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{children:[Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle"})," ",e.from]}),Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle-fill"})," ",e.to]}),Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-truck"})," ",e.carModel]}),Object(Q.jsxs)(Ve.a.Title,{children:[e.price.$numberDecimal," DT"]})]})}),Object(Q.jsx)(re.a,{children:Object(Q.jsxs)(ne.a,{children:["male"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-male",children:[" ","Male",Object(Q.jsx)("br",{})]})," ","female"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-female",children:[" ","Female",Object(Q.jsx)("br",{})]})," ","mixed"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-ambiguous",children:[" ","Mixed",Object(Q.jsx)("br",{})]})," ",e.luggage&&Object(Q.jsxs)("i",{class:"bi bi-bag-plus",children:[" ","Luggage",Object(Q.jsx)("br",{})]}),e.music&&Object(Q.jsxs)("i",{class:"bi bi-music-note-beamed",children:[" ","Music",Object(Q.jsx)("br",{})]})," ",e.airConditioned&&Object(Q.jsxs)("i",{class:"bi bi-snow2",children:[" ","AirC",Object(Q.jsx)("br",{})]})," ",e.smoking&&Object(Q.jsxs)("i",{class:"bi bi-wind",children:[" ","Smoking",Object(Q.jsx)("br",{})]})]})})]}),Object(Q.jsx)(Ve.a.Footer,{children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(He.a,{href:"/updateRide/".concat(e._id),variant:"warning",children:"Edit"})}),Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(He.a,{variant:"danger",onClick:function(){return h(e._id)},children:"Delete"})})]})}),Object(Q.jsx)(Ve.a.Footer,{children:Object(Q.jsxs)("small",{className:"text-muted",children:["Seating Available ",Object(Q.jsx)("b",{children:e.seatingCapacity})]})})]},t)}))}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{})]})]})})})]})]})})})},$e=a(369),Xe=a(382),et=a(195),tt=a(371);var at=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(c.useState)({fisrtName:"",lastName:"",age:"",phone:"",ProfilePic:null})),n=Object(o.a)(r,2),s=n[0],i=n[1],u=Object(j.useHistory)(),d=Object(b.c)((function(e){return e.auth})),O=d.user.user._id,h=Object(b.b)();return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("br",{}),Object(Q.jsxs)($e.a.Dialog,{children:[Object(Q.jsx)($e.a.Header,{children:Object(Q.jsx)($e.a.Title,{children:"Edit Profile"})}),Object(Q.jsxs)($e.a.Body,{children:[Object(Q.jsxs)(Xe.a,{className:"mb-3",children:[Object(Q.jsx)(Xe.a.Text,{id:"inputGroup-sizing-default",children:"First Name"}),Object(Q.jsx)(et.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:d.user.user.firstName,required:!0,onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{firstName:e.target.value}))},autoFocus:!0}),Object(Q.jsx)(Xe.a.Text,{id:"inputGroup-sizing-default",children:"Last Name"}),Object(Q.jsx)(et.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:d.user.user.lastName,onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{lastName:e.target.value}))}})]}),Object(Q.jsxs)(Xe.a,{className:"mb-3",children:[Object(Q.jsx)(Xe.a.Text,{id:"inputGroup-sizing-default",children:"Age"}),Object(Q.jsx)(et.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:d.user.user.age,onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{age:e.target.value}))}}),Object(Q.jsx)(Xe.a.Text,{id:"inputGroup-sizing-default",children:"Phone"}),Object(Q.jsx)(et.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:d.user.user.phone,onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{phone:e.target.value}))}})]}),Object(Q.jsxs)(tt.a.Group,{controlId:"formFileDisabled",className:"mb-3",children:[Object(Q.jsx)("img",{name:"image",alt:"profile pic",width:"150",height:"150",src:a||"/images/avatar.jpg"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("input",{type:"file",name:"profilePic",accept:"images/*"})]})]}),Object(Q.jsxs)($e.a.Footer,{children:[Object(Q.jsx)(He.a,{variant:"secondary",onClick:function(){return u.goBack()},children:"Go Back"}),Object(Q.jsx)(He.a,{variant:"primary",onClick:function(e){e.preventDefault(),h(function(e,t,a){return function(){var c=Object(E.a)(w.a.mark((function c(r){var n,s;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:M}),c.prev=1,H(),c.next=5,Y.a.put("/api/user/editprofile/".concat(e),t);case 5:n=c.sent,s=n.data,r({type:U,payload:s}),alert("Profile Edited!"),a.push("/profile"),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(1),r({type:F,payload:c.t0.response.data.errors}),console.log(c.t0);case 16:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e){return c.apply(this,arguments)}}()}(O,s,u))},children:"Save changes"})]})]}),Object(Q.jsx)("br",{})]})},ct=a(61),rt=a.n(ct),nt=a(373),st=function(e){var t=e.trips;return Object(Q.jsx)(Q.Fragment,{children:t.tripList.map((function(e,t){return Object(Q.jsxs)(Ve.a,{style:{marginLeft:"10px",flex:"0 0 500px",margin:"1em 10px",border:"2px solid"},border:"danger",children:[Object(Q.jsxs)(Ve.a.Header,{children:["Ride at"," ",Object(Q.jsxs)("b",{children:[Object(Q.jsx)("i",{class:"bi bi-clock"})," ",e.dateTime.toString().slice(11,16)," |"," ",Object(Q.jsx)("i",{class:"bi bi-calendar-week"})," ",e.dateTime.toString().slice(0,10)]})]}),Object(Q.jsxs)(Ve.a.Body,{children:[Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{children:[e.owner.profilePic?Object(Q.jsx)(u.a,{alt:"Remy Sharp",src:e.owner.profilePic.url}):Object(Q.jsx)(u.a,{alt:"Remy Sharp",src:"/images/avatar.jpg"}),Object(Q.jsxs)("span",{children:[Object(Q.jsx)("i",{class:"bi bi-person"}),e.owner.firstName," ",e.owner.lastName]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("span",{children:[e.owner.age," years old"]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("span",{children:[Object(Q.jsx)("i",{class:"bi bi-telephone"})," ",e.owner.phone]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("span",{children:[Object(Q.jsx)("i",{class:"bi bi-truck"})," ",e.carModel]})]}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle"})," ",e.from]}),Object(Q.jsxs)(Ve.a.Title,{children:[Object(Q.jsx)("i",{class:"bi bi-circle-fill"})," ",e.to]})]})]}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{children:Object(Q.jsxs)(Ve.a.Title,{children:[e.price.$numberDecimal," DT"]})}),Object(Q.jsxs)(ne.a,{children:["male"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-male",children:[" ","Male",Object(Q.jsx)("br",{})]})," ","female"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-female",children:[" ","Female",Object(Q.jsx)("br",{})]})," ","mixed"===e.tripGender&&Object(Q.jsxs)("i",{class:"bi bi-gender-ambiguous",children:[" ","Mixed",Object(Q.jsx)("br",{})]})," ",e.luggage&&Object(Q.jsxs)("i",{class:"bi bi-bag-plus",children:[" ","Luggage",Object(Q.jsx)("br",{})]}),e.music&&Object(Q.jsxs)("i",{class:"bi bi-music-note-beamed",children:[" ","Music",Object(Q.jsx)("br",{})]})," ",e.airConditioned&&Object(Q.jsxs)("i",{class:"bi bi-snow2",children:[" ","AirC",Object(Q.jsx)("br",{})]})," ",e.smoking&&Object(Q.jsxs)("i",{class:"bi bi-wind",children:[" ","Smoking",Object(Q.jsx)("br",{})]})]})]})]}),Object(Q.jsx)(Ve.a.Footer,{children:Object(Q.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(Q.jsx)("div",{children:Object(Q.jsxs)(Ve.a.Text,{className:"text-muted",children:["Seating Available ",Object(Q.jsx)("b",{children:e.seatingCapacity})]})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(He.a,{style:{marginTop:"10px"},variant:"success",size:"xs",children:Object(Q.jsx)(qe.Link,{to:"/reserveRide/".concat(e._id),children:" Reservation"})})})]})})]},t)}))})},it=a(351),jt=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),s=Object(o.a)(n,2),i=s[0],l=s[1],u=Object(c.useState)(null),O=Object(o.a)(u,2),h=O[0],p=O[1],x=Object(c.useState)({lat:null,lng:null}),m=Object(o.a)(x,2),f=(m[0],m[1]),g=Object(c.useState)({lat:null,lng:null}),v=Object(o.a)(g,2),S=(v[0],v[1]),k=Object(b.b)(),T=Object(b.c)((function(e){return e.trips})),C=Object(b.c)((function(e){return e.trips.isLoading})),L=Object(b.c)((function(e){return e.trips.count})),R=Object(b.c)((function(e){return e.auth})),_=Object(c.useState)(1),N=Object(o.a)(_,2),I=N[0],P=N[1],D=Object(c.useState)(6),A=Object(o.a)(D,2),G=A[0];A[1];Object(c.useEffect)((function(){k(Fe()),k(Ue(I,G))}),[]);var M=R.user&&R.user.user._id,U={role:"driver"},F=Object(j.useHistory)(),V=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t),f({lat:a,lng:c});case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t),S({lat:a,lng:c});case 2:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(Je.a,{style:{background:"#ffaa00",marginTop:"90px",paddingBottom:"30px"},children:[Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(y.a,{component:"h1",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0,children:"Search a Ride"})}),Object(Q.jsx)(ne.a,{}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return F.goBack()},children:"Go Back"}),Object(Q.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(e){e.preventDefault(),k(function(e,t){return function(){var a=Object(E.a)(w.a.mark((function a(c){var r,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:B}),a.prev=1,H(),a.next=5,Y.a.put("/api/user/updaterole/".concat(e),t);case 5:r=a.sent,n=r.data,c({type:z,payload:n}),alert("You are a Rider Now!"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),c({type:J,payload:a.t0.response.data.errors});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(M,U)),F.push("/offerRide")},style:{marginLeft:"5px"},children:"Become a Rider?"})]})]}),Object(Q.jsx)("hr",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)("i",{class:"bi bi-circle",children:" Depart Point"}),Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:"From ...",onSuggestionSelect:V,value:a,country:"tn",resetSearch:!1})]}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)("i",{class:"bi bi-circle-fill",children:" Arrival Point"}),Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:"To ...",onSuggestionSelect:W,value:i,country:"tn",resetSearch:!1})]}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)("i",{class:"bi bi-calendar-week",children:" Date of departure"}),Object(Q.jsx)("br",{}),Object(Q.jsx)(it.a,{type:"date",id:"datetime-local",defaultValue:Date.now(),InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)}})]})]}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsxs)(ne.a,{children:[Object(Q.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",onClick:function(e){e.preventDefault(),k(function(e,t,a){return function(){var c=Object(E.a)(w.a.mark((function c(r){var n,s;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:ge}),c.prev=1,c.next=4,Y.a.get("/api/trip/findtrips?from=".concat(e,"&to=").concat(t,"&dateTime=").concat(a));case 4:n=c.sent,s=n.data,r({type:ve,payload:s}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),r({type:ye,payload:c.t0.response.data.errors});case 12:case"end":return c.stop()}}),c,null,[[1,9]])})));return function(e){return c.apply(this,arguments)}}()}(a,i,h))},children:"Search"}),Object(Q.jsx)(d.a,{variant:"contained",color:"secondary",type:"submit",style:{marginLeft:"5px"},onClick:function(e){e.preventDefault(),k(Fe()),k(Ue(I,G))},children:"Reset"})]})]})]}),Object(Q.jsxs)(Je.a,{children:[C&&Object(Q.jsx)(Qe,{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:T.tripList.length&&Object(Q.jsx)(st,{trips:T})})]}),Object(Q.jsx)(Je.a,{children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{}),Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(nt.a,{color:"secondary",count:Math.ceil(L/G),onChange:function(e,t){P(t),k(Ue(t,G))}})})]})})]})},lt=a(19),ot=function(e){var t=e.errors;return Object(Q.jsxs)(T.a,{variant:"danger",children:[t.from?t.from.msg:null," ",Object(Q.jsx)("br",{}),t.to?t.to.msg:null," ",Object(Q.jsx)("br",{}),t.carModel?t.carModel.msg:null," ",Object(Q.jsx)("br",{}),t.price?t.price.msg:null," ",Object(Q.jsx)("br",{}),t.dateTime?t.dateTime.msg:null," ",Object(Q.jsx)("br",{}),t.seatingCapacity?t.seatingCapacity.msg:null]})},bt=a(376),ut=a(384),dt=a(294),Ot=a(353),ht=a(383),pt=a(374),xt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.trips.isLoading})),a=Object(b.c)((function(e){return e.trips.errors})),r=Object(c.useState)({from:"",to:"",from_lat:null,from_lng:null,to_lng:null,to_lat:null,carModel:"",price:null,dateTime:"",seatingCapacity:null,tripGender:"",luggage:!1,music:!1,smoking:!1,airConditioned:!1}),n=Object(o.a)(r,2),s=n[0],i=n[1],u=Object(c.useState)(""),O=Object(o.a)(u,2),h=O[0],m=O[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],S=g[1],k=Object(c.useState)({lat:null,lng:null}),T=Object(o.a)(k,2),C=(T[0],T[1]),L=Object(c.useState)({lat:null,lng:null}),R=Object(o.a)(L,2),_=(R[0],R[1]),N=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t),C({lat:a,lng:c}),i(Object(l.a)(Object(l.a)({},s),{},{from:t,from_lat:a,from_lng:c}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),_({lat:a,lng:c}),i(Object(l.a)(Object(l.a)({},s),{},{to:t,to_lat:a,to_lng:c}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}(),P=Object(c.useState)(""),D=Object(o.a)(P,2),A=D[0],G=D[1],M=Object(c.useState)(!1),U=Object(o.a)(M,2),F=U[0],B=U[1],z=Object(c.useState)("female"),J=Object(o.a)(z,2),V=J[0],W=J[1],Z=Object(c.useState)({checkedA:!0}),q=Object(o.a)(Z,2),K=q[0],$=q[1],X=Object(c.useState)({checkedB:!0}),ee=Object(o.a)(X,2),te=ee[0],ae=ee[1],ce=Object(c.useState)({checkedC:!0}),se=Object(o.a)(ce,2),ie=se[0],je=se[1],le=Object(c.useState)({checkedD:!0}),de=Object(o.a)(le,2),Oe=de[0],he=de[1],pe=Object(j.useHistory)();return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(Je.a,{style:{background:"#ffaa00",marginTop:"90px",paddingTop:"10px",paddingBottom:"20px"},children:[Object(Q.jsx)("br",{}),Object(Q.jsx)(y.a,{component:"h1",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Publish a Ride"}),a&&Object(Q.jsx)(ot,{errors:a}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:"From ...",onSuggestionSelect:N,value:h,country:"tn",resetSearch:!1,required:!0}),Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:"To ...",onSuggestionSelect:I,value:v,country:"tn",resetSearch:!1}),Object(Q.jsx)(tt.a.Control,{name:"carModel",required:"required",type:"text",placeholder:"Car Model",onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{carModel:e.target.value}))}}),Object(Q.jsx)("br",{}),Object(Q.jsx)(tt.a.Control,{name:"price",required:"required",type:"text",placeholder:"Price by place (DT)",onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{price:e.target.value}))}}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{xs:6,children:Object(Q.jsx)(it.a,{id:"datetime-local",label:" Trip Date/Time",type:"date",defaultValue:Date.now(),InputLabelProps:{shrink:!0},onChange:function(e){return i(Object(l.a)(Object(l.a)({},s),{},{dateTime:e.target.value}))}})}),Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)(Ot.a,{id:"demo-controlled-open-select-label",children:"Seating capacity"}),Object(Q.jsxs)(pt.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:F,onClose:function(){B(!1)},onOpen:function(){B(!0)},value:A,onChange:function(e){G(e.target.value),i(Object(l.a)(Object(l.a)({},s),{},{seatingCapacity:e.target.value}))},children:[Object(Q.jsx)(ht.a,{value:1,children:"1"}),Object(Q.jsx)(ht.a,{value:2,children:"2"}),Object(Q.jsx)(ht.a,{value:3,children:"3"}),Object(Q.jsx)(ht.a,{value:4,children:"4"})]})]})]})]}),Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)("br",{}),Object(Q.jsx)(dt.a,{children:"Gender Trip"}),Object(Q.jsxs)(ut.a,{"aria-label":"gender",name:"gender",value:V,onChange:function(e){W(e.target.value),i(Object(l.a)(Object(l.a)({},s),{},{tripGender:e.target.value}))},children:[Object(Q.jsx)(p.a,{value:"female",control:Object(Q.jsx)(bt.a,{}),label:"Female"}),Object(Q.jsx)(p.a,{value:"male",control:Object(Q.jsx)(bt.a,{}),label:"Male"}),Object(Q.jsx)(p.a,{value:"mixed",control:Object(Q.jsx)(bt.a,{}),label:"Mixed"})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:K.checked,onChange:function(e){$(Object(l.a)(Object(l.a)({},K),{},Object(lt.a)({},e.target.name,e.target.checked))),i(Object(l.a)(Object(l.a)({},s),{},{luggage:e.target.checked}))},name:"checkedA"}),label:"Luggage"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:K.checked,onChange:function(e){ae(Object(l.a)(Object(l.a)({},te),{},Object(lt.a)({},e.target.name,e.target.checked))),i(Object(l.a)(Object(l.a)({},s),{},{music:e.target.checked}))},name:"checkedB"}),label:"Music"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:ie.checked,onChange:function(e){je(Object(l.a)(Object(l.a)({},ie),{},Object(lt.a)({},e.target.name,e.target.checked))),i(Object(l.a)(Object(l.a)({},s),{},{smoking:e.target.checked}))},name:"checkedC"}),label:"Smoking"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:Oe.checked,onChange:function(e){he(Object(l.a)(Object(l.a)({},Oe),{},Object(lt.a)({},e.target.name,e.target.checked))),i(Object(l.a)(Object(l.a)({},s),{},{airConditioned:e.target.checked}))},name:"checkedD"}),label:"Air Conditioned"})]})]}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{xs:6,md:4}),Object(Q.jsx)(ne.a,{xs:6,md:4}),Object(Q.jsxs)(ne.a,{xs:6,md:4,children:[Object(Q.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return pe.goBack()},children:"Go Back"})," ",t&&Object(Q.jsxs)(d.a,{variant:"danger",disabled:!0,children:[Object(Q.jsx)(Ze.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),Object(Q.jsx)("span",{className:"visually-hidden",children:"Loading..."})]})," ",Object(Q.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:oe}),t.prev=1,H(),t.next=5,Y.a.post("/api/trip/addtrip",e);case 5:c=t.sent,r=c.data,a({type:be,payload:r}),alert("Trip added successfully!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:ue,payload:t.t0.response.data.errors});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(s))},children:"Validate"})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{})]})]}),Object(Q.jsx)("br",{})]})},mt=a(366),ft=a(367),gt=a(296),vt=(a(274),a(199)),yt=Object(S.a)((function(e){return{root:{flexGrow:2},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:4}}})),St=function(){var e=yt(),t=Object(b.c)((function(e){return e.auth}));console.log();var a=Object(b.b)(),r=Object(c.useState)(null),n=Object(o.a)(r,2),s=n[0],j=n[1],l=Boolean(s);return Object(Q.jsx)("div",{className:e.root,children:Object(Q.jsx)(mt.a,{style:{background:"#2E3B55"},position:"fixed",children:Object(Q.jsxs)(ft.a,{children:[!t.isAuth&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(y.a,{variant:"h5",style:{fontSize:"30px"},children:Object(Q.jsx)(m.a,{href:"/aboutUs",style:{color:"#ffaa00"},children:"JoyRide"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/",style:{color:"#ffaa00"},children:"Home"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/login",style:{color:"#ffaa00"},children:"Login"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/register",style:{color:"#ffaa00"},children:"Register"})})]}),t.isAuth&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(y.a,{variant:"h6",style:{fontSize:"30px"},children:Object(Q.jsx)(m.a,{href:"/aboutUs",style:{color:"#ffaa00"},children:"JoyRide"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/",style:{color:"#ffaa00"},children:"Home"})}),t.isAuth&&t.user&&"driver"===t.user.role?Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/offerRide",style:{color:"#ffaa00"},children:"Offer a Ride"})}):Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/searchRide",style:{color:"#ffaa00"},children:"Find a Ride"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(i.b,{to:"/profile/".concat(t.user&&t.user._id),style:{color:"#ffaa00"},children:"Profile"})}),Object(Q.jsx)(y.a,{variant:"h6",className:e.title,children:Object(Q.jsx)(m.a,{href:"/",style:{color:"#ffaa00"},children:Object(Q.jsx)(ht.a,{onClick:function(){return a({type:V})},children:"LOGOUT"})})}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(gt.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)(vt.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(){j(null)},children:Object(Q.jsx)(m.a,{href:"/profile",children:Object(Q.jsx)(ht.a,{onClick:function(){return a(Z())},children:"Profile"})})})]})]})]})})})},kt=(a(275),function(){return Object(Q.jsxs)(Je.a,{className:"Footer",children:[Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{children:Object(Q.jsx)("p",{children:"Contact Us "})}),Object(Q.jsxs)(ne.a,{className:"social-links",children:[Object(Q.jsx)("a",{href:"http://github.com/spunkyraven",target:"_blank",rel:"noopener noreferrer",children:Object(Q.jsx)("i",{className:"bi bi-github"})}),Object(Q.jsx)("a",{href:"http://www.facebook.com/Spunky22.01/",target:"_blank",rel:"noopener noreferrer",children:Object(Q.jsx)("i",{className:"bi bi-facebook"})}),Object(Q.jsx)("a",{href:"http://www.linkedin.com/in/iheb-kanzari-67890b120/",target:"_blank",rel:"noopener noreferrer",children:Object(Q.jsx)("i",{className:"bi bi-linkedin"})})]})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)(re.a,{children:Object(Q.jsx)(ne.a,{children:Object(Q.jsxs)(y.a,{variant:"body4",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Q.jsx)(m.a,{color:"inherit",href:"#",children:"Shadyy. All rights reserved."})," "]})})})]})}),Tt=a(380),Ct=function(){return Object(Q.jsx)("div",{children:Object(Q.jsx)(Je.a,{style:{width:"85%",marginLeft:"10%",marginTop:"120px"},children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{sm:6,children:Object(Q.jsxs)(Tt.a.Caption,{children:[Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),Object(Q.jsx)("h1",{children:"Who we are"}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),"Mobility is a basic human right of everyone. It opens endless opportunities and equal possibilities, no matter where you were born or where you live. We are committed to empowering cities, businesses, and people everywhere to enjoy a better quality of life by removing the limitations and barriers of urban mobility. Powered by the largest mobility community in the world, we are helping to create cleaner, safer and better cities to live in where mobility will become an enabler for people and businesses to discover endless opportunities.",Object(Q.jsx)("br",{})," JoyRide is Tunisian trustworthy website, That offers you secured rides throughout Tunisia ."]})}),Object(Q.jsx)(ne.a,{sm:6,children:Object(Q.jsx)(Tt.a,{children:Object(Q.jsx)(Tt.a.Image,{width:400,height:500,alt:"city",src:"/images/About.PNG"})})})]})})})},wt=function(e){var t=e.match,a=Object(b.b)(),r=Object(b.c)((function(e){return e.trips})),n=Object(b.c)((function(e){return e.trips.isLoading})),s=Object(b.c)((function(e){return e.trips.errors})),i=Object(c.useState)({from:"",to:"",from_lat:null,from_lng:null,to_lng:null,to_lat:null,carModel:"",price:null,dateTime:"",seatingCapacity:null,tripGender:"",luggage:!1,music:!1,smoking:!1,airConditioned:!1}),u=Object(o.a)(i,2),O=u[0],m=u[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],S=g[1],k=Object(c.useState)(""),T=Object(o.a)(k,2),C=T[0],L=T[1],R=Object(c.useState)({lat:null,lng:null}),_=Object(o.a)(R,2),N=(_[0],_[1]),I=Object(c.useState)({lat:null,lng:null}),P=Object(o.a)(I,2),D=(P[0],P[1]),A=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),N({lat:a,lng:c}),m(Object(l.a)(Object(l.a)({},O),{},{from:t,from_lat:a,from_lng:c}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(E.a)(w.a.mark((function e(t,a,c,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(t),D({lat:a,lng:c}),m(Object(l.a)(Object(l.a)({},O),{},{to:t,to_lat:a,to_lng:c}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,c,r){return e.apply(this,arguments)}}(),M=Object(c.useState)(""),U=Object(o.a)(M,2),F=U[0],B=U[1],z=Object(c.useState)(!1),J=Object(o.a)(z,2),V=J[0],W=J[1],Z=Object(c.useState)("female"),q=Object(o.a)(Z,2),K=q[0],$=q[1],X=Object(c.useState)({checkedA:!0}),ee=Object(o.a)(X,2),te=ee[0],ae=ee[1],ce=Object(c.useState)({checkedB:!0}),se=Object(o.a)(ce,2),ie=se[0],je=se[1],le=Object(c.useState)({checkedC:!0}),oe=Object(o.a)(le,2),be=oe[0],ue=oe[1],de=Object(c.useState)({checkedD:!0}),Oe=Object(o.a)(de,2),he=Oe[0],pe=Oe[1],xe=t.params.id,me=Object(b.c)((function(e){return e.auth})),fe=Object(j.useHistory)();return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(Je.a,{style:{background:"#ffaa00",marginTop:"90px",paddingBottom:"10px"},children:[Object(Q.jsx)("br",{}),Object(Q.jsx)(y.a,{component:"h1",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,children:"Edit your Ride"}),s&&Object(Q.jsx)(ot,{errors:s}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:r.tripList.from,onSuggestionSelect:A,value:v,country:"tn",resetSearch:!1,required:!0}),Object(Q.jsx)(rt.a,{publicKey:"pk.eyJ1IjoiZG91c3MiLCJhIjoiY2tyZ3h1bGNuMDNteTJvcGVueThzNnZmMiJ9.LhxHYK7IQDlS6VZTSiPu3A",inputClass:"form-control search",placeholder:r.tripList.to,onSuggestionSelect:G,value:C,country:"TN",resetSearch:!1}),Object(Q.jsx)(tt.a.Control,{name:"carModel",type:"text",placeholder:r.tripList.carModel,onChange:function(e){return m(Object(l.a)(Object(l.a)({},O),{},{carModel:e.target.value}))}}),Object(Q.jsx)("br",{}),Object(Q.jsx)(tt.a.Control,{name:"price",type:"text",placeholder:O.price,onChange:function(e){return m(Object(l.a)(Object(l.a)({},O),{},{price:e.target.value}))}}),Object(Q.jsx)("br",{}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{xs:6,children:Object(Q.jsx)(h.a,{id:"datetime-local",label:" Trip Date/Time",type:"datetime-local",defaultValue:r.tripList.dateTime,InputLabelProps:{shrink:!0},onChange:function(e){return m(Object(l.a)(Object(l.a)({},O),{},{dateTime:e.target.value}))}})}),Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)(Ot.a,{id:"demo-controlled-open-select-label",children:"Seating capacity"}),Object(Q.jsxs)(pt.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:V,onClose:function(){W(!1)},onOpen:function(){W(!0)},value:F,onChange:function(e){B(e.target.value),m(Object(l.a)(Object(l.a)({},O),{},{seatingCapacity:e.target.value}))},children:[Object(Q.jsx)(ht.a,{value:1,children:"1"}),Object(Q.jsx)(ht.a,{value:2,children:"2"}),Object(Q.jsx)(ht.a,{value:3,children:"3"}),Object(Q.jsx)(ht.a,{value:4,children:"4"})]})]})]})]}),Object(Q.jsxs)(ne.a,{xs:6,children:[Object(Q.jsx)("br",{}),Object(Q.jsx)(dt.a,{children:"Gender Trip"}),Object(Q.jsxs)(ut.a,{"aria-label":"gender",name:"gender",value:K,onChange:function(e){$(e.target.value),m(Object(l.a)(Object(l.a)({},O),{},{tripGender:e.target.value}))},children:[Object(Q.jsx)(p.a,{value:"female",control:Object(Q.jsx)(bt.a,{}),label:"Female"}),Object(Q.jsx)(p.a,{value:"male",control:Object(Q.jsx)(bt.a,{}),label:"Male"}),Object(Q.jsx)(p.a,{value:"mixed",control:Object(Q.jsx)(bt.a,{}),label:"Mixed"})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:te.checked,onChange:function(e){ae(Object(l.a)(Object(l.a)({},te),{},Object(lt.a)({},e.target.name,e.target.checked))),m(Object(l.a)(Object(l.a)({},O),{},{luggage:e.target.checked}))},name:"checkedA"}),label:"Luggage"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:te.checked,onChange:function(e){je(Object(l.a)(Object(l.a)({},ie),{},Object(lt.a)({},e.target.name,e.target.checked))),m(Object(l.a)(Object(l.a)({},O),{},{music:e.target.checked}))},name:"checkedB"}),label:"Music"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:be.checked,onChange:function(e){ue(Object(l.a)(Object(l.a)({},be),{},Object(lt.a)({},e.target.name,e.target.checked))),m(Object(l.a)(Object(l.a)({},O),{},{smoking:e.target.checked}))},name:"checkedC"}),label:"Smoking"}),Object(Q.jsx)(p.a,{control:Object(Q.jsx)(x.a,{checked:he.checked,onChange:function(e){pe(Object(l.a)(Object(l.a)({},he),{},Object(lt.a)({},e.target.name,e.target.checked))),m(Object(l.a)(Object(l.a)({},O),{},{airConditioned:e.target.checked}))},name:"checkedD"}),label:"Air Conditioned"})]})]}),Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{xs:6,md:4}),Object(Q.jsx)(ne.a,{xs:6,md:4}),Object(Q.jsxs)(ne.a,{xs:6,md:4,children:[Object(Q.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return fe.goBack()},children:"Go Back"})," ",n&&Object(Q.jsx)(Qe,{})," ",Object(Q.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(e){e.preventDefault(),a(function(e,t,a){return function(){var c=Object(E.a)(w.a.mark((function c(r){var n,s;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:Ne}),c.prev=1,H(),c.next=5,Y.a.put("/api/trip/updatetrip/".concat(e),t,a);case 5:n=c.sent,s=n.data,r({type:Ie,payload:s}),alert("Trip edited successfully!"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),r({type:Pe,payload:c.t0.response.data.errors});case 14:case"end":return c.stop()}}),c,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}(xe,O,me.user.user._id))},children:"Edit"})]}),Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{})]})]}),Object(Q.jsx)("br",{})]})},Et=a(69),Lt=(a(185),{top:0,left:0,padding:"10px"}),Rt={top:36,left:0,padding:"10px"},_t={top:72,left:0,padding:"10px"},Nt={bottom:36,left:0,padding:"10px"},It=function(e){var t=e.match,a=Object(c.useState)({width:"100%",height:"400px",latitude:36.8,longitude:10.17,zoom:4}),r=Object(o.a)(a,2),n=r[0],s=r[1],i=Object(b.b)(),u=Object(b.c)((function(e){return e.trips})),d=Object(b.c)((function(e){return e.trips.isLoading})),O=Object(j.useHistory)(),h=t.params.id;Object(c.useEffect)((function(){i(function(e){return function(){var t=Object(E.a)(w.a.mark((function t(a){var c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Se}),t.prev=1,H(),t.next=5,Y.a.get("/api/trip/selectedtrip/".concat(e));case 5:c=t.sent,r=c.data,a({type:ke,payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:Te,payload:t.t0.response.data.errors});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(h))}),[]);var p={seatingCapacity:u.tripList.seatingCapacity-1},x=Object(c.useState)(0),m=Object(o.a)(x,2),f=m[0],g=(m[1],Object(c.useState)(0)),v=Object(o.a)(g,2),y=v[0],S=(v[1],Object(c.useState)(0)),k=Object(o.a)(S,2),T=k[0],C=(k[1],Object(c.useState)(0)),L=Object(o.a)(C,2),R=L[0],_=(L[1],Object(c.useState)("")),N=Object(o.a)(_,2),I=N[0],P=(N[1],Object(c.useState)("")),D=Object(o.a)(P,2),A=D[0],G=(D[1],{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[y,f]},properties:{name:I}},{type:"Feature",geometry:{type:"Point",coordinates:[R,T]},properties:{name:A}}]});return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)("div",{className:"sidebar",children:["Country: Tunisia | Trip: From: ... ",I," | To: ... ",A]}),Object(Q.jsxs)(Et.g,Object(l.a)(Object(l.a)({mapStyle:"mapbox://styles/douss/cksb48yml01t417uq1fx3qml0",mapboxApiAccessToken:"http://api.mapbox.com/geocoding/v5/mapbox.places/Los%20Angeles.json?access_token=YOUR_MAPBOX_ACCESS_TOKEN"},n),{},{onViewportChange:function(e){return s(e)},children:[Object(Q.jsx)(Et.f,{id:"my-data",type:"geojson",data:G,children:Object(Q.jsx)(Et.c,Object(l.a)({},{id:"point",type:"circle",paint:{"circle-radius":10,"circle-color":"#007cbf"}}))}),Object(Q.jsx)(Et.b,{style:Lt}),Object(Q.jsx)(Et.a,{style:Rt}),Object(Q.jsx)(Et.d,{style:_t}),Object(Q.jsx)(Et.e,{style:Nt})]})),Object(Q.jsx)("br",{}),Object(Q.jsx)(Je.a,{children:Object(Q.jsxs)(re.a,{children:[Object(Q.jsx)(ne.a,{children:Object(Q.jsx)(He.a,{variant:"info",size:"lg",onClick:function(){return O.goBack()},children:"Go Back"})}),Object(Q.jsxs)(ne.a,{children:[d&&Object(Q.jsx)(Qe,{}),"  ",Object(Q.jsx)(He.a,{variant:"danger",size:"lg",onClick:function(e){e.preventDefault(),u.tripList.seatingCapacity>0?i(function(e,t,a){return function(){var c=Object(E.a)(w.a.mark((function c(r){var n,s;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:Le}),c.prev=1,H(),c.next=5,Y.a.put("/api/trip/updateSeatingCapacity/".concat(e),t,a);case 5:n=c.sent,s=n.data,r({type:Re,payload:s}),alert("Trip Reserved!"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),r({type:_e,payload:c.t0.response.data.errors});case 14:case"end":return c.stop()}}),c,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}(h,p)):alert("Sorry! This trip has already reserved")},children:"Reserve Now!"})]})]})})]})},Pt=a(10),Dt=["component"],At=function(e){var t=e.component,a=Object(Pt.a)(e,Dt),c=Object(b.c)((function(e){return e.auth}));return Object(Q.jsx)(j.Route,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return c.isAuth?Object(Q.jsx)(t,Object(l.a)({},e)):Object(Q.jsx)(j.Redirect,{to:"/login"})}}))},Gt=["component"],Mt=function(e){var t=e.component,a=Object(Pt.a)(e,Gt),c=Object(b.c)((function(e){return e.auth}));return Object(Q.jsx)(j.Route,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return c.isAuth?Object(Q.jsx)(t,Object(l.a)({},e)):Object(Q.jsx)(j.Redirect,{to:"/login"})}}))},Ut=["component"],Ft=function(e){var t=e.component,a=Object(Pt.a)(e,Ut),c=Object(b.c)((function(e){return e.auth}));return Object(Q.jsx)(j.Route,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return c.isAuth&&c.user&&"driver"===c.user.role?Object(Q.jsx)(t,Object(l.a)({},e)):Object(Q.jsx)(j.Redirect,{to:"/searchRide"})}}))};var Bt=function(e){var t=e.match;return Object(Q.jsx)("div",{className:"App",children:Object(Q.jsxs)(i.a,{children:[Object(Q.jsx)(St,{}),Object(Q.jsxs)(j.Switch,{children:[Object(Q.jsx)(j.Route,{exact:!0,path:"/",component:ze}),Object(Q.jsx)(j.Route,{exact:!0,path:"/register",component:ee}),Object(Q.jsx)(j.Route,{exact:!0,path:"/login",component:K}),Object(Q.jsx)(j.Route,{exact:!0,path:"/logout",component:$}),Object(Q.jsx)(j.Route,{exact:!0,path:"/aboutUs",component:Ct}),Object(Q.jsx)(At,{exact:!0,path:"/profile/:id",component:Ke}),Object(Q.jsx)(At,{exact:!0,path:"/editProfile",component:at}),Object(Q.jsx)(At,{exact:!0,path:"/searchRide",component:jt}),Object(Q.jsx)(Mt,{exact:!0,path:"/reserveRide/:id",match:t,component:It}),Object(Q.jsx)(At,{exact:!0,path:"/offerRide",component:xt}),Object(Q.jsx)(Ft,{exact:!0,path:"/updateRide/:id",match:t,component:wt})]}),Object(Q.jsx)(kt,{})]})})},zt=a(71),Jt=a(198),Vt={token:localStorage.getItem("token"),isAuth:localStorage.getItem("isAuth"),user:JSON.parse(localStorage.getItem("user")),isLoading:!1,isRegistred:!1,errors:null},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case L:case N:case D:case M:case B:case de:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case I:return{isLoading:!1,isRegistred:!0,errors:null};case R:return localStorage.setItem("token",c.token),localStorage.setItem("isAuth",!0),Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isRegistred:!0,isAuth:!0,errors:null,user:c.user,token:c.token});case Oe:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,errors:null,user:Object(l.a)(Object(l.a)({},e.user),{},{trips:c.user})});case A:return localStorage.setItem("user",JSON.stringify(c)),Object(l.a)(Object(l.a)({},e),{},{isRegistred:!0,isAuth:!0,isLoading:!1,user:c.user});case U:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isRegistred:!0,isAuth:!0,user:{user:{payload:c}}});case z:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isRegistred:!0,isAuth:!0,user:c.user});case V:return localStorage.clear(),Object(l.a)(Object(l.a)({},e),{},{isAuth:!1,user:null,token:null});case _:case P:case G:case he:case J:case F:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isAuth:!1,errors:c,token:null});default:return e}},Yt={tripList:[],errors:null,isLoading:!1},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case oe:case de:case xe:case ge:case Se:case Le:case Ne:case De:return Object(l.a)(Object(l.a)({},e),{},{errors:null,isLoading:!0});case pe:return Object(l.a)(Object(l.a)({},e),{},{count:c.count});case be:case Oe:case me:case ke:case Re:case Ie:case Ae:return Object(l.a)(Object(l.a)({},e),{},{tripList:c,isLoading:!1});case ve:return Object(l.a)(Object(l.a)({},e),{},{tripList:c,isLoading:!1,count:c.length});case ue:case he:case fe:case ye:case Te:case _e:case Pe:case Ge:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,errors:c});default:return e}},Zt={reservationList:[],errors:null,isLoading:!1,reservation:[]},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case oe:case de:case xe:case ge:case Ce:case Le:case Ne:case De:return Object(l.a)(Object(l.a)({},e),{},{errors:null,isLoading:!0});case pe:return Object(l.a)(Object(l.a)({},e),{},{count:c.count});case be:case Oe:case me:case we:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,reservationList:c});case Re:case Ie:case Ae:return Object(l.a)(Object(l.a)({},e),{},{reservationList:c,isLoading:!1});case ve:return Object(l.a)(Object(l.a)({},e),{},{reservationList:c,isLoading:!1,count:c.length});case ue:case he:case fe:case ye:case Ee:case _e:case Pe:case Ge:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,errors:c});default:return e}},qt=Object(zt.combineReducers)({auth:Wt,trips:Ht,reservations:Qt}),Kt=a(197),$t=Object(zt.createStore)(qt,Object(Kt.composeWithDevTools)(Object(zt.applyMiddleware)(Jt.a)));s.a.render(Object(Q.jsx)(b.a,{store:$t,children:Object(Q.jsx)(r.a.StrictMode,{children:Object(Q.jsx)(Bt,{})})}),document.getElementById("root"))}},[[293,1,2]]]);
//# sourceMappingURL=main.f7fa7bfa.chunk.js.map